CREATE OR REPLACE TRIGGER "ENOC"."TRG_ACCESO_CLAVE"
  BEFORE INSERT OR UPDATE ON "ENOC"."ACCESO_CLAVE"
                              FOR EACH ROW
BEGIN
  IF (:NEW.FECHA_RECUPERA IS NULL) THEN
    :NEW.FECHA_RECUPERA := TO_DATE('20000101 12:00:00','YYYYMMDD HH:MI:SS');
END IF;
END TRG_ACCESO_CLAVE;


CREATE OR REPLACE TRIGGER "ENOC"."TRG_ACCESO_OPCION"
  BEFORE INSERT OR UPDATE ON "ENOC"."ACCESO_OPCION"
                                FOR EACH ROW
BEGIN
  IF (:NEW.FECHA IS NULL) THEN
    :NEW.FECHA := SYSDATE;
END IF;

END TRG_ACCESO_OPCION;


CREATE OR REPLACE TRIGGER "ENOC"."TRG_ACTUALIZA_PROMEDIO"
  AFTER UPDATE ON "ENOC"."KRDX_CURSO_ACT"
                     FOR EACH ROW
DECLARE
PAR_PLAN VARCHAR2(8);
   PAR_EXISTE VARCHAR2(7);
   PAR_EXISTE_CICLO VARCHAR2(7);
CURSOR C_EXISTE IS
SELECT COALESCE(CODIGO_PERSONAL,'NO') INTO PAR_EXISTE FROM ENOC.MOD_PROMEDIO WHERE CODIGO_PERSONAL = :NEW.CODIGO_PERSONAL AND PLAN_ID = PAR_PLAN;
CURSOR C_EXISTE_CICLO IS
SELECT COALESCE(CODIGO_PERSONAL,'NO') INTO PAR_EXISTE_CICLO FROM ENOC.MOD_CICLO
WHERE CODIGO_PERSONAL = :NEW.CODIGO_PERSONAL AND CARGA_ID = CARGA_DEL_GRUPO(:NEW.CURSO_CARGA_ID)
  AND BLOQUE_ID = GRUPO_BLOQUE(:NEW.CURSO_CARGA_ID) AND PLAN_ID = ENOC.CURSO_PLAN(:NEW.CURSO_ID);
BEGIN
   IF (:NEW.TIPOCAL_ID = '1' OR :NEW.TIPOCAL_ID = 'I') THEN
      * BUSCA EL PLAN DE LA MATERIA DEL ALUMNO *
SELECT ENOC.CURSO_PLAN(:NEW.CURSO_ID) INTO PAR_PLAN FROM DUAL;
OPEN C_EXISTE;
FETCH C_EXISTE INTO PAR_EXISTE;
IF NOT C_EXISTE%found THEN
         PAR_EXISTE := 'NO';
END IF;
CLOSE C_EXISTE;
IF (PAR_EXISTE = 'NO') THEN
         INSERT INTO ENOC.MOD_PROMEDIO(CODIGO_PERSONAL,PLAN_ID,FECHA) VALUES(:NEW.CODIGO_PERSONAL,PAR_PLAN,SYSDATE);
ELSE
UPDATE ENOC.MOD_PROMEDIO SET FECHA = SYSDATE WHERE CODIGO_PERSONAL = :NEW.CODIGO_PERSONAL AND PLAN_ID = PAR_PLAN;
END IF;

OPEN C_EXISTE_CICLO;
FETCH C_EXISTE_CICLO INTO PAR_EXISTE;
IF NOT C_EXISTE_CICLO%found THEN
         PAR_EXISTE_CICLO := 'NO';
END IF;
CLOSE C_EXISTE_CICLO;
* ACTUALIZA LOS DATOS DE LA TABLA ALUM_ESTADO AL DISPARARSE EL TRIGGER DE LA TABLA ALUM_ESTADO*
     IF (PAR_EXISTE_CICLO = 'NO') THEN
        IF (:NEW.TIPOCAL_ID = 'I') THEN
            INSERT INTO ENOC.MOD_CICLO(CODIGO_PERSONAL,CARGA_ID,BLOQUE_ID, PLAN_ID, ESTADO) VALUES(:NEW.CODIGO_PERSONAL,CARGA_DEL_GRUPO(:NEW.CURSO_CARGA_ID), GRUPO_BLOQUE(:NEW.CURSO_CARGA_ID), PAR_PLAN, 'A');
END IF;
END IF;
END IF;
END TRG_ACTUALIZA_PROMEDIO;


CREATE OR REPLACE TRIGGER "ENOC"."TRG_ALERTA_COVID"
  BEFORE INSERT OR UPDATE ON "ENOC"."ALERTA_COVID"
                                FOR EACH ROW
BEGIN
 IF (:NEW.FOLIO IS NULL) THEN
    :NEW.FOLIO := 1;
END IF;
 IF (:NEW.FECHA IS NULL) THEN
    :NEW.FECHA := SYSDATE;
END IF;
 IF (:NEW.PAIS_UNO IS NULL) THEN
    :NEW.PAIS_UNO := 0;
END IF;
 IF (:NEW.PAIS_DOS IS NULL) THEN
    :NEW.PAIS_DOS := 0;
END IF;
 IF (:NEW.CIUDAD_UNO IS NULL) THEN
    :NEW.CIUDAD_UNO := '-';
END IF;
 IF (:NEW.CIUDAD_DOS IS NULL) THEN
    :NEW.CIUDAD_DOS := '-';
END IF;
END TRG_ALERTA_COVID;


CREATE OR REPLACE TRIGGER "ENOC"."TRG_ALERTA_DOCALUM"
  BEFORE INSERT OR UPDATE ON "ENOC"."ALERTA_DOCALUM"
                                FOR EACH ROW
BEGIN
 IF (:NEW.FECHA IS NULL) THEN
    :NEW.FECHA := SYSDATE;
END IF;
END TRG_ALERTA_DOCALUM;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_ALUM_ACADEMICO"
  BEFORE INSERT OR UPDATE ON "ENOC"."ALUM_ACADEMICO"
                                FOR EACH ROW
BEGIN
 IF (:NEW.DORMITORIO IS NULL OR :NEW.DORMITORIO = 'X') THEN :NEW.DORMITORIO := '0'; END IF;
 IF (:NEW.OBRERO_UNION IS NULL) THEN :NEW.OBRERO_UNION := 0; END IF;
 IF (:NEW.OBRERO IS NULL) THEN :NEW.OBRERO := 'N'; END IF;
 IF (:NEW.OBRERO_INSTITUCION IS NULL) THEN :NEW.OBRERO_INSTITUCION := 0; END IF;
 IF (:NEW.OBRERO_ASOCIACION IS NULL) THEN :NEW.OBRERO_ASOCIACION := 0; END IF;
 IF (INSERTING) THEN
    IF (:NEW.REQUERIDO IS NULL) THEN :NEW.REQUERIDO := 'N'; END IF;
END IF;
END TRG_ALUM_ACADEMICO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_ALUM_COVID"
  BEFORE INSERT OR UPDATE ON "ENOC"."ALUM_COVID"
                                FOR EACH ROW
BEGIN
 IF (:NEW.COMENTARIO IS NULL) THEN
    :NEW.COMENTARIO := '-';
END IF;
END TRG_ALUM_COVID;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_ALUM_EGRESO"
  BEFORE INSERT OR UPDATE ON "ENOC"."ALUM_EGRESO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.DIPLOMA IS NULL) THEN
    :NEW.DIPLOMA := '-';
END IF;
  IF (:NEW.USUARIO IS NULL) THEN
    :NEW.USUARIO := '0000000';
END IF;
  IF (:NEW.CARRERA_ID IS NULL) THEN
    :NEW.CARRERA_ID := '0';
END IF;
  IF (:NEW.FECHA IS NULL) THEN
    :NEW.FECHA := SYSDATE;
END IF;
  IF (:NEW.COMENTARIO IS NULL) THEN
    :NEW.COMENTARIO := '-';
END IF;
END TRG_ALUM_EGRESO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_ALUM_IMAGEN"
  BEFORE INSERT OR UPDATE ON "ENOC"."ALUM_IMAGEN"
                                FOR EACH ROW
BEGIN
 IF (:NEW.FECHA IS NULL) THEN
    :NEW.FECHA := SYSDATE;
END IF;
END TRG_ALUM_IMAGEN;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_ALUM_PERSONAL"
  BEFORE INSERT OR UPDATE ON "ENOC"."ALUM_PERSONAL"
                                FOR EACH ROW
DECLARE
EXISTE NUMBER(1);
BEGIN
SELECT COUNT(CODIGO_PERSONAL) INTO EXISTE FROM ENOC.ACCESO_OPCION WHERE CODIGO_PERSONAL = :NEW.CODIGO_PERSONAL AND OPCION_ID = '1160';
IF EXISTE = 0 THEN
    INSERT INTO ENOC.ACCESO_OPCION(CODIGO_PERSONAL,OPCION_ID,FECHA,USUARIO) VALUES(:NEW.CODIGO_PERSONAL,'1160',SYSDATE,'9800308');
END IF;

  IF (:NEW.RELIGION_ID IS NULL) THEN
    :NEW.RELIGION_ID := 0;
END IF;
  IF (:NEW.ESTADO_CIVIL IS NULL) THEN
    :NEW.ESTADO_CIVIL := 'S';
END IF;
  IF (:NEW.PAIS_ID IS NULL) THEN
    :NEW.PAIS_ID := 0;
END IF;
  IF (:NEW.ESTADO_ID IS NULL) THEN
    :NEW.ESTADO_ID := 0;
END IF;
  IF (:NEW.CIUDAD_ID IS NULL) THEN
    :NEW.CIUDAD_ID := 0;
END IF;
  IF (:NEW.BAUTIZADO IS NULL) THEN
    :NEW.BAUTIZADO := 'N';
END IF;
  IF (:NEW.CREDENCIAL IS NULL) THEN
    :NEW.CREDENCIAL := '-';
END IF;
  IF (:NEW.COTEJADO IS NULL) THEN
    :NEW.COTEJADO := 'N';
END IF;
  IF (:NEW.NACIONALIDAD IS NULL) THEN
    :NEW.NACIONALIDAD := 91;
END IF;
  IF (:NEW.CODIGO_SE IS NULL) THEN :NEW.CODIGO_SE := '-'; END IF;

  IF (:NEW.NOMBRE IS NOT NULL AND :NEW.NOMBRE != ' ') THEN
    :NEW.NOMBRE := TRIM(:NEW.NOMBRE);
END IF;
  IF (LENGTH(:NEW.APELLIDO_PATERNO) > 1) THEN
    :NEW.APELLIDO_PATERNO := TRIM(:NEW.APELLIDO_PATERNO);
END IF;

 * :NEW.APELLIDO_MATERNO := TRIM(:NEW.APELLIDO_MATERNO);  *
IF (:NEW.EMAIL IS NULL) THEN
    :NEW.EMAIL := '-';
END IF;
  IF (:NEW.TELEFONO IS NULL) THEN
    :NEW.TELEFONO := '-';
END IF;

END TRG_ALUM_PERSONAL;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_ALUM_PLAN"
  BEFORE INSERT OR UPDATE ON "ENOC"."ALUM_PLAN"
                                FOR EACH ROW
BEGIN
  IF (:NEW.ACTUALIZADO IS NULL) THEN :NEW.ACTUALIZADO := 'N'; END IF;
  IF (:NEW.ESCALA IS NULL) THEN :NEW.ESCALA := 10; END IF;
  IF (:NEW.CICLO_SEP IS NULL) THEN :NEW.CICLO_SEP := 0; END IF;
  IF (:NEW.PRIMER_MATRICULA IS NULL) THEN :NEW.PRIMER_MATRICULA := TO_DATE('01012000','DDMMYYYY'); END IF;
  IF (:NEW.FINALIZADO IS NULL) THEN :NEW.FINALIZADO := 'N'; END IF;
  IF (:NEW.GRADO IS NULL) THEN :NEW.GRADO:=0; END IF;
END TRG_ALUM_PLAN;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_ALUM_REFERENCIA"
  BEFORE INSERT OR UPDATE ON "ENOC"."ALUM_REFERENCIA"
                                FOR EACH ROW
BEGIN
  IF (:NEW.SCOTIABANK IS NULL) THEN :NEW.SCOTIABANK := '-'; END IF;
  IF (:NEW.BANAMEX IS NULL) THEN :NEW.BANAMEX := '-'; END IF;
  IF (:NEW.SANTANDER IS NULL) THEN :NEW.SANTANDER := '-'; END IF;
END TRG_ALUM_REFERENCIA;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_ALUM_UBICACION"
  BEFORE INSERT OR UPDATE ON "ENOC"."ALUM_UBICACION"
                                FOR EACH ROW
BEGIN
 IF (:NEW.P_NOMBRE IS NULL) THEN
    :NEW.P_NOMBRE := '-';
END IF;
 IF (:NEW.M_NOMBRE IS NULL) THEN
    :NEW.M_NOMBRE := '-';
END IF;
 IF (:NEW.T_NOMBRE IS NULL) THEN
    :NEW.T_NOMBRE := '-';
END IF;
 IF (:NEW.T_DIRECCION IS NULL) THEN
    :NEW.T_DIRECCION := '-';
END IF;
 IF (:NEW.T_COLONIA IS NULL) THEN
    :NEW.T_COLONIA := '-';
END IF;
 IF (:NEW.T_CODIGO IS NULL) THEN
    :NEW.T_CODIGO := '-';
END IF;
 IF (:NEW.T_APARTADO IS NULL) THEN
    :NEW.T_APARTADO := '-';
END IF;
 IF (:NEW.T_TELEFONO IS NULL) THEN
    :NEW.T_TELEFONO := '-';
END IF;
 IF (:NEW.T_PAIS IS NULL) THEN
    :NEW.T_PAIS := 0;
END IF;
 IF (:NEW.T_ESTADO IS NULL) THEN
    :NEW.T_ESTADO := 0;
END IF;
 IF (:NEW.T_CIUDAD IS NULL) THEN
    :NEW.T_CIUDAD := 0;
END IF;
 IF (:NEW.T_COMUNICA IS NULL) THEN
    :NEW.T_COMUNICA := 'L';
END IF;
 IF (:NEW.T_CELULAR IS NULL) THEN
    :NEW.T_CELULAR := '*';
END IF;
 IF (:NEW.VACUNA IS NULL) THEN
    :NEW.VACUNA := 'X';
END IF;
 IF (:NEW.DESCRIPCION_VACUNA IS NULL) THEN
    :NEW.DESCRIPCION_VACUNA := '-';
END IF;
 IF (:NEW.T_EMAIL IS NULL) THEN
    :NEW.T_EMAIL := '-';
END IF;
 IF (:NEW.CODIGO_PADRE IS NULL) THEN
    :NEW.CODIGO_PADRE := '-';
END IF;
 IF (:NEW.CODIGO_MADRE IS NULL) THEN
    :NEW.CODIGO_MADRE := '-';
END IF;
 IF (:NEW.P_RELIGION IS NULL) THEN
    :NEW.P_RELIGION := 0;
END IF;
 IF (:NEW.M_RELIGION IS NULL) THEN
    :NEW.M_RELIGION := '-';
END IF;
END TRG_ALUM_UBICACION;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_APFISICA_ALUMNO"
  BEFORE INSERT OR UPDATE ON "ENOC"."APFISICA_ALUMNO"
                                FOR EACH ROW
DECLARE
PAR_CARRERA VARCHAR2(5);
CURSOR C_CARRERA IS SELECT CARRERA_ID FROM ENOC.ALUMNO_CURSO WHERE CODIGO_PERSONAL = :NEW.CODIGO_PERSONAL AND CURSO_CARGA_ID = :NEW.CURSO_CARGA_ID;
BEGIN
  IF (:NEW.CODIGO_PERSONAL IS NULL) THEN :NEW.CODIGO_PERSONAL := '0'; END IF;
  IF (:NEW.CURSO_CARGA_ID IS NULL) THEN :NEW.CURSO_CARGA_ID := '0'; END IF;
OPEN C_CARRERA;
FETCH C_CARRERA INTO PAR_CARRERA;
IF NOT C_CARRERA%FOUND THEN
    PAR_CARRERA := '0';
END IF;
CLOSE C_CARRERA;
:NEW.CARRERA_ID := PAR_CARRERA;
END TRG_APFISICA_ALUMNO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_ARCH_DOCUMENTOS"
  BEFORE INSERT OR UPDATE ON "ENOC"."ARCH_DOCUMENTOS"
                                FOR EACH ROW
BEGIN
  IF (:NEW.IMAGEN IS NULL) THEN   :NEW.IMAGEN := '-';  END IF;
  IF (:NEW.ORDEN IS NULL) THEN   :NEW.ORDEN := 0;  END IF;
  IF (:NEW.MOSTRAR IS NULL) THEN   :NEW.MOSTRAR := 'S';  END IF;
END TRG_ARCH_DOCUMENTOS;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_BAJA_ALUMNO"
  BEFORE INSERT OR UPDATE ON "ENOC"."BAJA_ALUMNO"
                                FOR EACH ROW
BEGIN
 IF (:NEW.COMENTARIO IS NULL) THEN
    :NEW.COMENTARIO := '-';
END IF;
 IF (:NEW.CREDITOS IS NULL) THEN
    :NEW.CREDITOS := 0;
END IF;
END TRG_BAJA_ALUMNO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_BEC_ACUERDO"
  BEFORE INSERT OR UPDATE ON "ENOC"."BEC_ACUERDO"
                                FOR EACH ROW
BEGIN

 IF (:NEW.USUARIO IS NULL) THEN
    :NEW.USUARIO := '0';
END IF;
 IF (:NEW.PROMESA IS NULL) THEN
    :NEW.PROMESA := 0;
END IF;
 IF (:NEW.MATRICULA IS NULL) THEN
    :NEW.MATRICULA := 0;
END IF;
 IF (:NEW.ENSENANZA IS NULL) THEN
    :NEW.ENSENANZA := 0;
END IF;
 IF (:NEW.INTERNADO IS NULL) THEN
    :NEW.INTERNADO := 0;
END IF;
 IF (:NEW.PUESTO_ID IS NULL) THEN
    :NEW.PUESTO_ID := '0';
END IF;
END TRG_BEC_ACUERDO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_BEC_PUESTO_ALUMNO"
  BEFORE INSERT OR UPDATE ON "ENOC"."BEC_PUESTO_ALUMNO"
                                FOR EACH ROW
DECLARE
P_NIVEL NUMBER(2);
BEGIN
  * BUSCA EL NIVEL DEL PLAN AL QUE SE APLICA LA BECA DEL ALUMNO *
SELECT NIVEL_PLAN(:NEW.PLAN_ID) INTO P_NIVEL FROM DUAL;

IF (:NEW.NIVEL_ID IS NULL OR :NEW.NIVEL_ID = 0) THEN
    :NEW.NIVEL_ID := P_NIVEL;
END IF;

  IF (:NEW.DESCRIPCION IS NULL) THEN
    :NEW.DESCRIPCION := '-';
END IF;

END TRG_BEC_PUESTO_ALUMNO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_BEC_SOLICITUD"
  BEFORE INSERT OR UPDATE ON "ENOC"."BEC_SOLICITUD"
                                FOR EACH ROW
BEGIN
  IF (:NEW.POR_COMISION IS NULL) THEN :NEW.POR_COMISION := 0; END IF;
  IF (:NEW.POR_COORDINADOR IS NULL) THEN :NEW.POR_COORDINADOR := 0; END IF;
  IF (:NEW.COM_COORDINADOR IS NULL) THEN :NEW.COM_COORDINADOR := '-'; END IF;
  IF (:NEW.COMENTARIO IS NULL) THEN :NEW.COMENTARIO := '-'; END IF;
  IF (:NEW.USUARIO IS NULL) THEN :NEW.USUARIO := '0'; END IF;
END;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_BEC_TIPO"
  BEFORE INSERT OR UPDATE ON "ENOC"."BEC_TIPO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.DEPARTAMENTOS IS NULL) THEN
    :NEW.DEPARTAMENTOS := '-';
END IF;
  IF (:NEW.DIEZMO IS NULL) THEN
    :NEW.DIEZMO := 'N';
END IF;
  IF (:NEW.ESTADO IS NULL) THEN
    :NEW.ESTADO := 'A';
END IF;
  IF (:NEW.MESES IS NULL) THEN
    :NEW.MESES := '-';
END IF;
  IF (:NEW.TIPO_ALUMNO IS NULL) THEN
    :NEW.TIPO_ALUMNO := '-';
END IF;
  IF (:NEW.COLPORTA IS NULL) THEN
    :NEW.COLPORTA := 'N';
END IF;
  IF (:NEW.ACUMULA IS NULL) THEN
    :NEW.ACUMULA := 'N';
END IF;
  IF (:NEW.APLICA_ADICIONAL IS NULL) THEN
    :NEW.APLICA_ADICIONAL := 'N';
END IF;
  IF (:NEW.MAXIMO IS NULL) THEN
    :NEW.MAXIMO := 0;
END IF;
  IF (:NEW.LIMITE IS NULL) THEN
    :NEW.LIMITE := 0;
END IF;
END TRG_BEC_TIPO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_BIT_TRAMITE"
  BEFORE INSERT OR UPDATE ON "ENOC"."BIT_TRAMITE"
                                FOR EACH ROW
BEGIN
 IF (:NEW.REQUISITOS IS NULL) THEN
    :NEW.REQUISITOS := '-';
END IF;
END TRG_BIT_TRAMITE;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_CARGA"
  BEFORE INSERT OR UPDATE ON "ENOC"."CARGA"
                                FOR EACH ROW
BEGIN
  IF (:NEW.num_cursos IS NULL) THEN
    :NEW.NUM_CURSOS := 0;
END IF;

  IF (:NEW.FIN_SERVICIOS IS NULL) THEN
    :NEW.FIN_SERVICIOS := :NEW.F_FINAL;
END IF;

  IF (:NEW.ORDEN IS NULL OR :NEW.ORDEN = '000000') THEN
    :NEW.ORDEN := :NEW.CARGA_ID;
END IF;

  IF (SUBSTR(:NEW.CARGA_ID,5,1) = '1') THEN
     :NEW.PRIORIDAD := 1;
END IF;

  IF (SUBSTR(:NEW.CARGA_ID,5,1) = '3') THEN
     :NEW.PRIORIDAD := 2;
END IF;

  IF (SUBSTR(:NEW.CARGA_ID,5,1) = '4') THEN
     :NEW.PRIORIDAD := 3;
END IF;

  IF (SUBSTR(:NEW.CARGA_ID,5,1) = '2') THEN
     :NEW.PRIORIDAD := 4;
END IF;

  IF (SUBSTR(:NEW.CARGA_ID,5,1) = '5') THEN
     :NEW.PRIORIDAD := 5;
END IF;

  IF (SUBSTR(:NEW.CARGA_ID,5,1) = '6') THEN
     :NEW.PRIORIDAD := 6;
END IF;

  IF (SUBSTR(:NEW.CARGA_ID,5,1) = '7') THEN
     :NEW.PRIORIDAD := 7;
END IF;

  IF (INSERTING) THEN
    IF (:NEW.INI_INTERNADO IS NULL) THEN
      :NEW.INI_INTERNADO := :NEW.F_INICIO;
END IF;
    IF (:NEW.FIN_INTERNADO IS NULL) THEN
      :NEW.FIN_INTERNADO := :NEW.F_FINAL;
END IF;
END IF;
END TRG_CARGA;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_CARGA_ALUMNO"
  BEFORE INSERT OR UPDATE ON "ENOC"."CARGA_ALUMNO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.GRUPO IS NULL) THEN :NEW.GRUPO := 'XX'; END IF;
  IF (:NEW.PAGO IS NULL) THEN :NEW.PAGO := 'N'; END IF;
  IF (:NEW.COMENTARIO IS NULL) THEN :NEW.COMENTARIO := '-'; END IF;
  IF (UPDATING) THEN
      IF (:OLD.CONFIRMAR = 'S' AND :NEW.CONFIRMAR IS NULL) THEN
         :NEW.CONFIRMAR := 'S';
      ELSIF(:NEW.CONFIRMAR IS NULL) THEN
         :NEW.CONFIRMAR := 'N';
END IF;
      IF ( (:OLD.CONFIRMAR='S') AND (:OLD.ESTADO=4)) THEN
         :NEW.CONFIRMAR := 'S';
END IF;
END IF;
  IF (INSERTING) THEN
    IF (:NEW.CONFIRMAR IS NULL) THEN :NEW.CONFIRMAR := 'N'; END IF;
END IF;
END TRG_CARGA;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_CARGA_GRUPO"
  BEFORE INSERT OR UPDATE ON "ENOC"."CARGA_GRUPO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.ESTADO IS NULL ) THEN :NEW.ESTADO := 1; END IF;
  IF (:NEW.GRUPO IS NULL ) THEN :NEW.GRUPO := ' '; END IF;
  IF (:NEW.CODIGO_PERSONAL IS NULL ) THEN :NEW.CODIGO_PERSONAL := '0'; END IF;
  IF (:NEW.CODIGO_OTRO IS NULL ) THEN :NEW.CODIGO_OTRO := '0'; END IF;
  IF (:NEW.PRECIO IS NULL ) THEN :NEW.PRECIO := 0; END IF;
  IF (:NEW.F_INICIO IS NULL ) THEN :NEW.F_INICIO := SYSDATE; END IF;
  IF (:NEW.F_FINAL IS NULL ) THEN :NEW.F_FINAL := SYSDATE; END IF;
  IF (:NEW.COMENTARIO IS NULL ) THEN :NEW.COMENTARIO := '-'; END IF;
  IF (UPDATING) THEN
    IF (:NEW.MODO IS NULL ) THEN :NEW.MODO := :OLD.MODO; END IF;
END IF;
  :NEW.FECHA := SYSDATE;
END TRG_CARGA_GRUPO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_CARGA_PRACTICA_ALUMNO"
  BEFORE INSERT OR UPDATE ON "ENOC"."CARGA_PRACTICA_ALUMNO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.COMENTARIO IS NULL) THEN :NEW.COMENTARIO := '-'; END IF;
END TRG_CARGA_PRACTICA_ALUMNO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_CERTCICLO"
  BEFORE INSERT OR UPDATE ON "ENOC"."CERT_CICLO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.FST IS NULL) THEN :NEW.FST := ' '; END IF;
  IF (:NEW.FSP IS NULL) THEN :NEW.FSP := ' '; END IF;
  IF (:NEW.CREDITOS IS NULL) THEN :NEW.CREDITOS := ' '; END IF;
END TRG_CERTCICLO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_CERTPLAN"
  BEFORE INSERT OR UPDATE ON "ENOC"."CERT_PLAN"
                                FOR EACH ROW
BEGIN
  IF (:NEW.T_INICIAL IS NULL) THEN
    :NEW.T_INICIAL := '-';
END IF;
  IF (:NEW.CREDITOS IS NULL) THEN
    :NEW.CREDITOS := 0;
END IF;
  IF (:NEW.FACULTAD IS NULL) THEN
    :NEW.FACULTAD := '-';
END IF;
END TRG_CERTPLAN;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_COND_ALUMNO"
  BEFORE INSERT OR UPDATE ON "ENOC"."COND_ALUMNO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.EMPLEADO IS NULL) THEN
    :NEW.EMPLEADO := '0';
END IF;
  IF (:NEW.COMENTARIO IS NULL) THEN
    :NEW.COMENTARIO := '-';
END IF;
  IF (:NEW.CANTIDAD IS NULL) THEN
    :NEW.CANTIDAD := '-';
END IF;
END TRG_COND_ALUMNO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_CONV_MATERIA"
  BEFORE INSERT OR UPDATE ON "ENOC"."CONV_MATERIA"
                                FOR EACH ROW
BEGIN
 IF (:NEW.MATERIA_O IS NULL) THEN
    :NEW.MATERIA_O := '-';
END IF;
 IF (:NEW.CREDITOS_O IS NULL) THEN
    :NEW.CREDITOS_O := 0;
END IF;
 IF (:NEW.NOTA_O IS NULL) THEN
    :NEW.NOTA_O := '-';
END IF;
 IF (:NEW.FECHA_NOTA IS NULL) THEN
    :NEW.FECHA_NOTA := SYSDATE;
END IF;
END TRG_CONV_MATERIA;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_CON_CONVENIO"
  BEFORE INSERT OR UPDATE ON "ENOC"."CON_CONVENIO"
                                FOR EACH ROW
BEGIN
 IF (:NEW.FECHA_FIRMA IS NULL) THEN
    :NEW.FECHA_FIRMA := SYSDATE;
END IF;

 IF (:NEW.FECHA_VIGENCIA IS NULL) THEN
    :NEW.FECHA_VIGENCIA := TO_DATE('31122100','DDMMYYYY');
END IF;

END TRG_BIT_AREA;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_COVID"
  BEFORE INSERT OR UPDATE ON "ENOC"."COVID"
                                FOR EACH ROW
BEGIN
    :NEW.FECHA := SYSDATE;
END TRG_COVID;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_DIP_CURSO"
  BEFORE INSERT OR UPDATE ON "ENOC"."DIP_CURSO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.TEMA IS NULL) THEN :NEW.TEMA := '-'; END IF;
END TRG_DIP_CURSO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_EDO_ALUMNORESP"
  BEFORE INSERT OR UPDATE ON "ENOC"."EDO_ALUMNORESP"
                                FOR EACH ROW
BEGIN
 IF (:NEW.RESPUESTA IS NULL) THEN
    :NEW.RESPUESTA := '0';
END IF;
END TRG_EDO_ALUMNORESP;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_EMP_CONTRATO"
  BEFORE INSERT OR UPDATE ON "ENOC"."EMP_CONTRATO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.COMENTARIO IS NULL) THEN :NEW.COMENTARIO := '-'; END IF;
  IF (:NEW.ESTADO IS NULL) THEN :NEW.ESTADO := 'A'; END IF;
  IF (:NEW.FECHA IS NULL) THEN :NEW.FECHA := SYSDATE; END IF;
  IF (:NEW.FECHA_INI IS NULL) THEN :NEW.FECHA_INI := SYSDATE; END IF;
  IF (:NEW.FECHA_FIN IS NULL) THEN :NEW.FECHA_FIN := SYSDATE; END IF;
END TRG_EMP_CONTRATO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_EMP_CURRICULUM"
  BEFORE INSERT OR UPDATE ON "ENOC"."EMP_CURRICULUM"
                                FOR EACH ROW
BEGIN
 IF (:NEW.EXP_DOCENTE IS NULL) THEN :NEW.EXP_DOCENTE := '-'; END IF;
 IF (:NEW.NIVEL_ID IS NULL) THEN :NEW.NIVEL_ID := 0; END IF;
 IF (:NEW.INST_LIC IS NULL) THEN
    :NEW.INST_LIC := '-';
END IF;
 IF (:NEW.INST_MAE IS NULL) THEN
    :NEW.INST_MAE := '-';
END IF;
 IF (:NEW.INST_DOC IS NULL) THEN
    :NEW.INST_DOC := '-';
END IF;
 IF (:NEW.RESP_ANTERIOR IS NULL) THEN
    :NEW.RESP_ANTERIOR := '-';
END IF;
 IF (:NEW.RESP_ACTUAL IS NULL) THEN
    :NEW.RESP_ACTUAL := '-';
END IF;
 IF (:NEW.G_POSGRADO IS NULL) THEN
    :NEW.G_POSGRADO := '-';
END IF;
 IF (:NEW.T_DOCTORADO IS NULL) THEN
    :NEW.T_DOCTORADO := '-';
END IF;
 IF (:NEW.NACIONALIDAD IS NULL) THEN
    :NEW.NACIONALIDAD := 0;
END IF;
 IF (:NEW.REVISADO IS NULL) THEN
    :NEW.REVISADO := 'N';
END IF;
END TRG_EMP_CURRICULUM;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_EMP_DATOS"
  BEFORE INSERT OR UPDATE ON "ENOC"."EMP_DATOS"
                                FOR EACH ROW
BEGIN
  IF (:NEW.IMPRESO IS NULL) THEN :NEW.IMPRESO := 'N'; END IF;
END TRG_EMP_DATOS;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_EMP_MAESTRO"
  BEFORE INSERT OR UPDATE ON "ENOC"."EMP_MAESTRO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.TELEFONO IS NULL) THEN :NEW.TELEFONO := '-'; END IF;
  IF (:NEW.EMAIL IS NULL) THEN :NEW.EMAIL := '-'; END IF;
END TRG_EMP_MAESTRO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_ENC_PERIODO_RES"
  BEFORE INSERT OR UPDATE ON "ENOC"."ENC_PERIODO_RES"
                                FOR EACH ROW
BEGIN
  IF (:NEW.FIN_POR IS NULL) THEN
    :NEW.FIN_POR := '0';
END IF;
  IF (:NEW.FIN_OTRO IS NULL) THEN
    :NEW.FIN_OTRO := '-';
END IF;
  IF (:NEW.PLAN_OTRO_EST IS NULL) THEN
    :NEW.PLAN_OTRO_EST := '-';
END IF;
  IF (:NEW.PLAN_OTRO_TRABAJO IS NULL) THEN
    :NEW.PLAN_OTRO_TRABAJO := '-';
END IF;
END TRG_ENC_PERIODO_RES;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_FIN_BLOQUEO"
  BEFORE INSERT OR UPDATE ON "ENOC"."FIN_BLOQUEO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.FECHA IS NULL) THEN :NEW.FECHA:=SYSDATE; END IF;
END TRG_FIN_BLOQUEO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_HCA_MAESTRO_ACTIVIDAD"
  BEFORE INSERT OR UPDATE ON "ENOC"."HCA_MAESTRO_ACTIVIDAD"
                                FOR EACH ROW
BEGIN
 IF (:NEW.SEMANAS IS NULL) THEN :NEW.SEMANAS := 1; END IF;
 IF (:NEW.HORAS IS NULL) THEN :NEW.HORAS := 1; END IF;
END TRG_HCA_MAESTRO_ACTIVIDAD;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_INT_CUARTO"
  BEFORE INSERT OR UPDATE ON "ENOC"."INT_CUARTO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.CUPO IS NULL) THEN :NEW.CUPO := 0; END IF;
END TRG_INT_CUARTO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_INT_DATOS_ALUMNO"
  BEFORE INSERT OR UPDATE ON "ENOC"."INT_DATOS_ALUMNO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.MOTIVO IS NULL) THEN :NEW.MOTIVO := '-'; END IF;
  IF (:NEW.TIPO_SANGRE IS NULL) THEN :NEW.TIPO_SANGRE := '-'; END IF;
  IF (:NEW.INSTRUMENTOS IS NULL) THEN :NEW.INSTRUMENTOS := '-'; END IF;
  IF (:NEW.CELULAR IS NULL) THEN :NEW.CELULAR := '-'; END IF;
  IF (:NEW.CORREO IS NULL) THEN :NEW.CORREO := '-'; END IF;
  IF (:NEW.TELEFONO IS NULL) THEN :NEW.TELEFONO := '-'; END IF;
END TRG_INT_DATOS_ALUMNO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_KRDX_ALUM_ACTIV"
  BEFORE INSERT OR UPDATE ON "ENOC"."KRDX_ALUMNO_ACTIV"
                                FOR EACH ROW
DECLARE
EVALUACION NUMBER(2);
   P_MOD_NOTA NUMERIC(1);
CURSOR C_EVALUACION IS SELECT COALESCE(EVALUACION_ID,0) FROM CARGA_GRUPO_ACTIVIDAD WHERE ACTIVIDAD_ID = :NEW.ACTIVIDAD_ID;
CURSOR C_NOTA IS SELECT COUNT(CODIGO_PERSONAL) FROM ENOC.MOD_NOTA WHERE CODIGO_PERSONAL = :NEW.CODIGO_PERSONAL AND CURSO_CARGA_ID = :NEW.CURSO_CARGA_ID;
BEGIN
OPEN C_NOTA;
FETCH C_NOTA INTO P_MOD_NOTA;
IF NOT C_NOTA%FOUND THEN
      P_MOD_NOTA :=0;
END IF;
CLOSE C_NOTA;
IF (P_MOD_NOTA=0) THEN
      INSERT INTO ENOC.MOD_NOTA(CODIGO_PERSONAL,CURSO_CARGA_ID, ESTADO) VALUES(:NEW.CODIGO_PERSONAL, :NEW.CURSO_CARGA_ID, 'A');
END IF;

	IF (:NEW.EVALUACION_ID IS NULL OR :NEW.EVALUACION_ID = 0) THEN
      OPEN C_EVALUACION;
FETCH C_EVALUACION INTO EVALUACION;
IF NOT C_EVALUACION%FOUND THEN
        EVALUACION := 0;
END IF;
      IF EVALUACION > 0 THEN
        :NEW.EVALUACION_ID := EVALUACION;
END IF;
CLOSE C_EVALUACION;
END IF;
    IF :NEW.FECHA IS NULL THEN
      :NEW.FECHA := SYSDATE;
END IF;
END TRG_KRDX_ALUM_ACTIV;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_KRDX_ALUM_EVAL"
  BEFORE INSERT OR UPDATE ON "ENOC"."KRDX_ALUMNO_EVAL"
                                FOR EACH ROW
DECLARE
P_EVALUADAS NUMBER(5,2);
   P_TOTAL NUMBER(3);
   P_ESTADO VARCHAR2(1);
   P_MOD_NOTA NUMERIC(1);
   P_NOTA NUMERIC(5,2);
CURSOR C_NOTA IS SELECT COUNT(CODIGO_PERSONAL) FROM ENOC.MOD_NOTA WHERE CODIGO_PERSONAL = :NEW.CODIGO_PERSONAL AND CURSO_CARGA_ID = :NEW.CURSO_CARGA_ID;
BEGIN
OPEN C_NOTA;
FETCH C_NOTA INTO P_MOD_NOTA;
IF NOT C_NOTA%FOUND THEN
      P_MOD_NOTA :=0;
END IF;
CLOSE C_NOTA;
IF (P_MOD_NOTA=0) THEN
      INSERT INTO ENOC.MOD_NOTA(CODIGO_PERSONAL,CURSO_CARGA_ID, ESTADO) VALUES(:NEW.CODIGO_PERSONAL, :NEW.CURSO_CARGA_ID, 'A');
END IF;

SELECT COALESCE(ESTADO,'1') INTO P_ESTADO FROM ENOC.CARGA_GRUPO WHERE CURSO_CARGA_ID = :NEW.CURSO_CARGA_ID;

SELECT COALESCE(SUM(ACTIVIDAD_VALOR(ACTIVIDAD_ID)),0) INTO P_EVALUADAS
FROM ENOC.KRDX_ALUMNO_ACTIV
WHERE CURSO_CARGA_ID = :NEW.CURSO_CARGA_ID AND CODIGO_PERSONAL = :NEW.CODIGO_PERSONAL AND EVALUACION_ID = :NEW.EVALUACION_ID;
IF (P_EVALUADAS IS NULL ) THEN
       :NEW.EVALUADAS := 0;
ELSE
       :NEW.EVALUADAS := P_EVALUADAS;
END IF;

SELECT COALESCE(COUNT(ACTIVIDAD_ID),0) INTO P_TOTAL
FROM ENOC.CARGA_GRUPO_ACTIVIDAD
WHERE CURSO_CARGA_ID = :NEW.CURSO_CARGA_ID AND EVALUACION_ID = :NEW.EVALUACION_ID;

IF (P_TOTAL IS NULL ) THEN
       :NEW.TOT_ACTIVIDADES := 0;
ELSE
       :NEW.TOT_ACTIVIDADES := P_TOTAL;
END IF;

    * CALCULA LA NOTA DE LA EVALUACION SI TIENE ACTIVIDADES *
    IF (:NEW.TOT_ACTIVIDADES > 0) THEN
SELECT COALESCE(SUM(NOTA*ACTIVIDAD_VALOR(ACTIVIDAD_ID)100),0) INTO P_NOTA FROM ENOC.KRDX_ALUMNO_ACTIV WHERE CODIGO_PERSONAL = :NEW.CODIGO_PERSONAL AND CURSO_CARGA_ID = :NEW.CURSO_CARGA_ID AND EVALUACION_ID = :NEW.EVALUACION_ID;
IF (P_NOTA != :NEW.NOTA) THEN
        :NEW.NOTA := P_NOTA;
END IF;
END IF;

    IF (:NEW.PUNTOS IS NULL ) THEN
       :NEW.PUNTOS := 0;
END IF;
    IF (:NEW.EVALUACION_E42 IS NULL ) THEN
       :NEW.EVALUACION_E42 := 0;
END IF;

    IF (INSERTING) THEN
      :NEW.FECHA_INSERT := SYSDATE;
END IF;
    IF (UPDATING) THEN
      :NEW.FECHA_UPDATE := SYSDATE;
END IF;
    * CAMBIA EL ESTADO A MATERIA EN EVALUACION CUANDO GRABA LAS PRIMERAS NOTAS*
    IF ((INSERTING OR UPDATING)  AND P_ESTADO = '1') THEN
UPDATE ENOC.CARGA_GRUPO SET ESTADO = '2' WHERE CURSO_CARGA_ID = :NEW.CURSO_CARGA_ID;
END IF;

    *DBMS_OUTPUT.PUT_LINE('tigger');*
END TRG_KRDX_ALUM_EVAL;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_KRDX_CURSO_ACT"
  BEFORE INSERT OR UPDATE ON "ENOC"."KRDX_CURSO_ACT"
                                FOR EACH ROW
BEGIN
  IF (:NEW.CANTIDAD IS NULL ) THEN
    :NEW.CANTIDAD := 0;
END IF;
  IF (:NEW.COMENTARIO IS NULL ) THEN
    :NEW.COMENTARIO := '-';
END IF;
  IF (:NEW.FECHA IS NULL ) THEN
    :NEW.FECHA := SYSDATE;
END IF;
END TRG_KRDX_CURSO_ACT;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_KRDX_CURSO_IMP"
  BEFORE INSERT OR UPDATE ON "ENOC"."KRDX_CURSO_IMP"
                                FOR EACH ROW
BEGIN
  IF (:NEW.OBSERVACIONES IS NULL ) THEN
    :NEW.OBSERVACIONES := '-';
END IF;
  IF (:NEW.OPTATIVA_NOMBRE IS NULL ) THEN
    :NEW.OPTATIVA_NOMBRE := '-';
END IF;
END TRG_KRDX_CURSO_IMP;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_LOGOPERACION"
  BEFORE INSERT OR UPDATE ON "ENOC"."LOG_OPERACION"
                                FOR EACH ROW
BEGIN
    :NEW.TABLA := UPPER(:NEW.TABLA);
    :NEW.OPERACION := UPPER(:NEW.OPERACION);
END TRG_LOGOPERACION;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_MAPA_CURSO"
  BEFORE INSERT OR UPDATE ON "ENOC"."MAPA_CURSO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.UNID IS NULL) THEN
    :NEW.UNID := 'N';
END IF;
  IF (:NEW.ON_LINE IS NULL) THEN
    :NEW.ON_LINE := 'N';
END IF;
  IF (:NEW.CURSO_NUEVO IS NULL) THEN
    :NEW.CURSO_NUEVO := 0;
END IF;
END TRG_MAPA_CURSO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_MAPA_PLAN"
  BEFORE INSERT OR UPDATE ON "ENOC"."MAPA_PLAN"
                                FOR EACH ROW
BEGIN
  IF (:NEW.CICLOS IS NULL) THEN
    :NEW.CICLOS := 0;
END IF;
  IF (:NEW.NUM_CURSOS IS NULL) THEN
    :NEW.NUM_CURSOS := 0;
END IF;
  IF (:NEW.RVOE IS NULL) THEN
    :NEW.RVOE := '-';
END IF;
  IF (:NEW.PLAN_SE IS NULL) THEN
    :NEW.PLAN_SE := 'X';
END IF;
  IF (:NEW.VERSION_ID IS NULL) THEN
    :NEW.VERSION_ID := 0;
END IF;
  IF (:NEW.CARRERA_SE IS NULL) THEN
    :NEW.CARRERA_SE := '-';
END IF;
  :NEW.CARRERA_SE := UPPER(:NEW.CARRERA_SE);
  :NEW.NOMBRE_PLAN := UPPER(:NEW.NOMBRE_PLAN);

END TRG_MAPA_PLAN;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_MENT_ALUMNO_DATOS"
  BEFORE INSERT OR UPDATE ON "ENOC"."MENT_ALUMNO_DATOS"
                                FOR EACH ROW
BEGIN
   IF (:NEW.CLASE_ES IS NULL) THEN :NEW.CLASE_ES := '-'; END IF;
END TRG_MENT_ALUMNO_DATOS;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_MODULO_OPCION"
  BEFORE INSERT ON "ENOC"."MODULO_OPCION"
   FOR EACH ROW
BEGIN
  IF (:NEW.USUARIOS IS NULL) THEN  :NEW.USUARIOS := TO_CLOB('-'); END IF;
END TRG_MODULO_OPCION;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_PRON_MATERIA"
  BEFORE INSERT OR UPDATE ON "ENOC"."PRON_MATERIA"
                                FOR EACH ROW
BEGIN
  IF (:NEW.CORREO IS NULL) THEN
    :NEW.CORREO := '-';
END IF;
END TRG_BEC_PRON_MATERIA;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_RES_COMENTARIO"
  BEFORE INSERT OR UPDATE ON "ENOC"."RES_COMENTARIO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.COMENTARIO IS NULL) THEN
    :NEW.COMENTARIO := '-';
END IF;
END TRG_RES_COMENTARIO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_RES_DOCUMENTO"
  BEFORE INSERT OR UPDATE ON "ENOC"."RES_DOCUMENTO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.DESCRIPCION IS NULL) THEN
    :NEW.DESCRIPCION := '-';
END IF;
  IF (:NEW.FECHA IS NULL) THEN
    :NEW.FECHA := SYSDATE;
END IF;
END TRG_RES_DOCUMENTO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_RES_EXPEDIENTE"
  BEFORE INSERT OR UPDATE ON "ENOC"."RES_EXPEDIENTE"
                                FOR EACH ROW
BEGIN
  IF (:NEW.DESCRIPCION IS NULL) THEN
    :NEW.DESCRIPCION := '-';
END IF;
  IF (:NEW.COMENTARIO IS NULL) THEN
    :NEW.COMENTARIO := '-';
END IF;
END TRG_RES_EXPEDIENTE;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_SAL_INVITADO"
  BEFORE INSERT OR UPDATE ON "ENOC"."SAL_INVITADO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.NOMBRE IS NULL) THEN
    :NEW.NOMBRE := '-';
END IF;
END TRG_SAL_INVITADO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_SAL_SOLICITUD"
  BEFORE INSERT OR UPDATE ON "ENOC"."SAL_SOLICITUD"
                                FOR EACH ROW
BEGIN
  IF (:NEW.PREAUTORIZO IS NULL) THEN
    :NEW.PREAUTORIZO := '0';
END IF;
  IF (:NEW.ALIMENTO IS NULL) THEN
    :NEW.ALIMENTO := 0;
END IF;
  IF (:NEW.TOTAL IS NULL) THEN
    :NEW.TOTAL := 0;
END IF;
  IF (:NEW.DESAYUNO IS NULL) THEN
    :NEW.DESAYUNO := 0;
END IF;
  IF (:NEW.COMIDA IS NULL) THEN
    :NEW.COMIDA := 0;
END IF;
  IF (:NEW.CENA IS NULL) THEN
    :NEW.CENA := 0;
END IF;
  IF (:NEW.HOSPEDAJE IS NULL) THEN
    :NEW.HOSPEDAJE := 0;
END IF;
  IF (:NEW.TRANSPORTE IS NULL) THEN
    :NEW.TRANSPORTE := 0;
END IF;
  IF (:NEW.ALIMENTO IS NULL) THEN
    :NEW.ALIMENTO := 0;
END IF;
  IF (:NEW.TOTAL_PERSONA IS NULL) THEN
    :NEW.TOTAL_PERSONA := 0;
END IF;
   IF (:NEW.AUTORIZO IS NULL) THEN
    :NEW.AUTORIZO := '0';
END IF;
  IF (:NEW.FOLIO IS NULL) THEN
    :NEW.FOLIO := '0';
END IF;
  IF (:NEW.COMENTARIO IS NULL) THEN
    :NEW.COMENTARIO := '-';
END IF;
END TRG_SAL_SOLICITUD;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_SAUM_ETAPA"
  BEFORE INSERT OR UPDATE ON "ENOC"."SAUM_ETAPA"
                                FOR EACH ROW
BEGIN

 IF (:NEW.PROCEDIMIENTO IS NULL) THEN
    :NEW.PROCEDIMIENTO := '-';
END IF;
 IF (:NEW.NOMBRE IS NULL) THEN
    :NEW.NOMBRE := '-';
END IF;

END TRG_SAUM_ETAPA;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_SAUM_INGREDIENTE"
  BEFORE INSERT OR UPDATE ON "ENOC"."SAUM_INGREDIENTE"
                                FOR EACH ROW
BEGIN
 IF (:NEW.CANTIDAD IS NULL) THEN
    :NEW.CANTIDAD := 0;
END IF;
END TRG_SAUM_INGREDIENTE;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_SEP_ALUMNO"
  BEFORE INSERT OR UPDATE ON "ENOC"."SEP_ALUMNO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.USADO IS NULL) THEN :NEW.USADO := 'N'; END IF;
END TRG_SEP_ALUMNO;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_SSOCDOCALUM"
  BEFORE INSERT OR UPDATE ON "ENOC"."SSOC_DOCALUM"
                                FOR EACH ROW
BEGIN
  IF (:NEW.COMENTARIO IS NULL) THEN
    :NEW.COMENTARIO := '-';
END IF;
  IF (:NEW.USUARIO IS NULL) THEN
    :NEW.USUARIO := '0';
END IF;
END TRG_SSOCDOCALUM;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_TIT_ANTECEDENTE"
  BEFORE INSERT OR UPDATE ON "ENOC"."TIT_ANTECEDENTE"
                                FOR EACH ROW
BEGIN
  IF (:NEW.INSTITUCION IS NULL ) THEN :NEW.INSTITUCION := '-'; END IF;
  :NEW.INSTITUCION := TRIM(:NEW.INSTITUCION);
END TRG_TIT_ANTECEDENTE;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_TIT_CARRERA"
  BEFORE INSERT OR UPDATE ON "ENOC"."TIT_CARRERA"
                                FOR EACH ROW
BEGIN
  IF (:NEW.NUMERORVOE IS NULL ) THEN :NEW.NUMERORVOE := '-'; END IF;
  :NEW.NOMBRECARRERA := TRIM(:NEW.NOMBRECARRERA);
  :NEW.NUMERORVOE := TRIM(:NEW.NUMERORVOE);
END TRG_TIT_CARRERA;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_TIT_PROFESIONAL"
  BEFORE INSERT OR UPDATE ON "ENOC"."TIT_PROFESIONAL"
                                FOR EACH ROW
BEGIN
  * QUITAR ACENTOS AL NOMBRE DEL ALUMNO PARA TITULOS ELECTRÓNICOS *
  :NEW.NOMBRE := REPLACE(:NEW.NOMBRE,'Á','A');
  :NEW.NOMBRE := REPLACE(:NEW.NOMBRE,'É','E');
  :NEW.NOMBRE := REPLACE(:NEW.NOMBRE,'Í','I');
  :NEW.NOMBRE := REPLACE(:NEW.NOMBRE,'Ó','O');
  :NEW.NOMBRE := REPLACE(:NEW.NOMBRE,'Ú','U');

  :NEW.NOMBRE := TRIM(:NEW.NOMBRE);

  :NEW.PRIMERAPELLIDO := REPLACE(:NEW.PRIMERAPELLIDO,'Á','A');
  :NEW.PRIMERAPELLIDO := REPLACE(:NEW.PRIMERAPELLIDO,'É','E');
  :NEW.PRIMERAPELLIDO := REPLACE(:NEW.PRIMERAPELLIDO,'Í','I');
  :NEW.PRIMERAPELLIDO := REPLACE(:NEW.PRIMERAPELLIDO,'Ó','O');
  :NEW.PRIMERAPELLIDO := REPLACE(:NEW.PRIMERAPELLIDO,'Ú','U');

  :NEW.PRIMERAPELLIDO := TRIM(:NEW.PRIMERAPELLIDO);

  :NEW.SEGUNDOAPELLIDO := REPLACE(:NEW.SEGUNDOAPELLIDO,'Á','A');
  :NEW.SEGUNDOAPELLIDO := REPLACE(:NEW.SEGUNDOAPELLIDO,'É','E');
  :NEW.SEGUNDOAPELLIDO := REPLACE(:NEW.SEGUNDOAPELLIDO,'Í','I');
  :NEW.SEGUNDOAPELLIDO := REPLACE(:NEW.SEGUNDOAPELLIDO,'Ó','O');
  :NEW.SEGUNDOAPELLIDO := REPLACE(:NEW.SEGUNDOAPELLIDO,'Ú','U');

  :NEW.SEGUNDOAPELLIDO := TRIM(:NEW.SEGUNDOAPELLIDO);

  :NEW.CORREOELECTRONICO := TRIM(:NEW.CORREOELECTRONICO);

END TRG_TIT_PROFESIONAL;


  CREATE OR REPLACE TRIGGER "ENOC"."TRG_VIG_AUTO"
  BEFORE INSERT OR UPDATE ON "ENOC"."VIG_AUTO"
                                FOR EACH ROW
BEGIN
  IF (:NEW.POLIZA IS NULL) THEN
    :NEW.POLIZA := '-';
END IF;
  IF (:NEW.ENGOMADO IS NULL) THEN
    :NEW.ENGOMADO := '-';
END IF;
END TRG_VIG_AUTO;


